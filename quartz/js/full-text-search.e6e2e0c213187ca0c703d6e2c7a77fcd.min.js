(async function(){const b=a=>a.toLowerCase().split(/([^a-z]|[^\x00-\x7F])/),c=new FlexSearch.Document({cache:!0,charset:"latin:extra",optimize:!0,index:[{field:"content",tokenize:"reverse",encode:b},{field:"title",tokenize:"forward",encode:b}]}),{content:a}=await fetchData;for(const[d,b]of Object.entries(a))c.add({id:d,title:b.title,content:removeMarkdown(b.content)});const d=b=>({id:b,url:b,title:a[b].title,content:a[b].content});registerHandlers(e=>{const a=e.target.value,f=c.search(a,[{field:"content",limit:10},{field:"title",limit:5}]),b=b=>{const a=f.filter(a=>a.field===b);return a.length===0?[]:[...a[0].result]},g=new Set([...b("title"),...b("content")]),h=[...g].map(d);displayResults(a,h,!0)})})()